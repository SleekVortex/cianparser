### Сбор и анализ данных по аренде недвижимости

В данной работе собираются и анализируются данные по долгосрочной аренде квартир с сервиса для поиска недвижимости [Циан](http://cian.ru) на примере квартир в городе Казань.

#### Признаки, получаемые в ходе парсинга.
* Link - ссылка на это объявление
* District - район, в которой расположена квартира
* Price_per_month - стоимость аренды в месяц
* Commissions - коммиссиия, взымаемая в ходе первичной аренды
* kitchen_meters - количество квадратных метров кухни
* How_many_rooms - количество комнат, от 1 до 4х
* Floor - этаж, на котором расположена квартира
* Square_meters - общее количество квадратных метров
* Street - улица, в которой расположена квартира
* Author - автор объявления
* All_floors - общее количество этажей в здании, на котором расположена квартира
* Year_of_construction - год постройки здания, на котором расположена квартира

В некоторых объявлениях отсутсвуют данные по некоторым признакам (год постройки, жилые кв метры, кв метры кухни).
В этом случае проставляется значение -1.

#### В небольшом первичном исследовании рассматриваются следующие вопросы:

*Распределение авторов по количеству объявлений*    
*Количество авторов, имеющих по 1, 2, 3, 4, 5-10, 11-20, 21-40 и больше 40 объявлений*    
*В каких районах больше всего объявлений*     
*Структура цен аренды за кв.метр по районам*    
*Распределение цен аренды за квадратный метр в среднем по Казани*    
*Распределение объявлений по годам постройки здания*    
*Распределение цен в трёх категориях: до 1975х, между 1975 и 2010, и после*    
*Количество объявлений по категории года постройки здания*    
*Структура цен аренды за кв.метр в разных категориях даты постройки здания*    
*Средняя цена аренды квартиры за кв.метр по годам постройки здания*    
*Средняя этажность квартиры по годам постройки здания*    
*Распределение цен в трёх категориях: до 1975х, между 1975 и 2010, и после*    
*Распределение цен за кв. метр в зависимости от количества комнат в разных районах*    
*Распределение цен за кв. метр в зависимости от количества комнат в среднем во всех районов*    
*Распределение цен аренды за кв. метр в зависимости от районов для всех годов постройки*    
*Количество объявлений с определённой этажностью*    
*Распределение цен за кв. метр в зависимости от этажности квартиры*    

Анализируемые данные актуальны на *20.03.2021*

#### Окружение
В проекте используется Python 3, также необходимы дополнительные библиотеки, такие как requests, beautifulsoup4, transliterate, 
pymorphy2 и т.д.

Для их установки используйте команду:

```
pip3 install -r requirements.txt
```

#### Конфигурация
При запуске парсера *parser-cian.py* в качестве настройки можно ввести следующие аргументы:

* city_id - идентификатор города (из cities.csv)
* page_start - начальная страница, с которого начинается сбор данных
* page_end - конечная страница, с которого заканчивается сбор данных
* file_name - название файла, в котором будут записаны собранные данные

По умолчанию, эти аргументы имеют значения:

* city_id = 4777 (Казань)
* page_start = 1
* page_end = 50
* file_name = "data"

#### Запуск
Пример запуска:
```
 python parser-cian.py --city_id=4599 --file_name="data_omsk"
```
В результате работы, появится файл *data_omsk.csv*, в котором будут записаны данные по городу Омск

#### Утилита definer_cities_id.py
Данный файл предназначен для сбора и идентификации названия городов числам, которые необходимы для парсинга.
С его помощью был образован файл *cities.csv*